package pages;

import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

public class LogIn {
	
	public WebDriver driver;
	  By username = By.xpath(".//*[@id='user_login']");
	  By password = By.xpath(".//*[@id='user_pass']");
	  By submit   = By.xpath(".//*[@id='wp-submit']");
	  By createNewPost = By.xpath("//a[@title='Create a New Post']");
	  By heading = By.xpath(".//div/textarea[@placeholder='Title']");
	  By title = By.xpath(".//*[@id='tinymce']");
	  By publish = By.xpath(".//*[contains(text(),'Publish')]");
	  String frameID = "tinymce-1_ifr";

//Added few lines by raghu again with dinesh created mail id

public LogIn(WebDriver driver)
	{
		this.driver = driver;
	}
  
  public void webSite(String url)
  {
	  driver.get(url);
  }
	
	
  public void logIn(String name, String pwd) {
	  
	  //Login with the details
	  driver.findElement(username).sendKeys(name);
	  driver.findElement(password).sendKeys(pwd);
	  driver.findElement(submit).click();
  }
  
  
  public void publishPost(String dataHeading, String dataTitle)
  {
	  driver.findElement(createNewPost).click();
	  driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);
	  driver.findElement(heading).sendKeys(dataHeading);
	  driver.switchTo().frame(frameID);
	  driver.findElement(title).sendKeys(dataTitle);
	  driver.switchTo().defaultContent();
	  driver.findElement(publish).click();
	 
	  	  
  }
  
  
}
